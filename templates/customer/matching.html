{% extends "layout.html" %} {% block title %}Create or Match Customer{% endblock
%} {% block stylesheet %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='matching.css') }}"
/>
{% endblock %}

{% block site_title %}Match or Create Customer{% endblock %}
{% block site_description %}Find a customer in the database or create a new one{% endblock %}

{% block content %}

<form method="POST" action="{{ url_for('search_or_create_customer') }}" class="needs-validation" novalidate>

  <div class="row g-3">
    <div class="col-md-6">
      <label for="FirstName" class="form-label">First Name</label>
      <input type="text" class="form-control" id="FirstName" name="FirstName" required>
    </div>

    <div class="col-md-6">
      <label for="LastName" class="form-label">Last Name</label>
      <input type="text" class="form-control" id="LastName" name="LastName" required>
    </div>

    <div class="col-md-8">
      <label for="Street" class="form-label">Street</label>
      <input type="text" class="form-control" id="Street" name="Street" required>
    </div>

    <div class="col-md-4">
      <label for="HouseNumber" class="form-label">House Number</label>
      <input type="number" class="form-control" id="HouseNumber" name="HouseNumber" required>
    </div>

    <div class="col-md-4">
      <label for="PostalCode" class="form-label">Postal Code</label>
      <input type="number" class="form-control" id="PostalCode" name="PostalCode" required>
    </div>

    <div class="col-md-8">
      <label for="City" class="form-label">City</label>
      <input type="text" class="form-control" id="City" name="City" required>
    </div>

    <div class="col-md-4">
      <label for="Country" class="form-label">Country</label>
      <input type="text" class="form-control" id="Country" name="Country" required>
    </div>

    <div class="col-md-4">
      <label for="Mail" class="form-label">Mail</label>
      <input type="email" class="form-control" id="Mail" name="Mail" required>
    </div>

    <div class="col-md-4">
      <label for="Telephone" class="form-label">Phone number</label>
      <input type="tel" class="form-control" id="Telephone" name="Telephone">
    </div>
  </div>

  <div class="mt-5 d-flex justify-content-between flex-column flex-sm-row gap-3">
    <a class="btn btn-outline-primary" href="/customers">&larr; Back to Customer List</a>

    <button id="submit-btn" class="btn btn-primary" type="submit">
      Create / Match Customer
    </button>
  </div>
</form>

{% if error %}
  <div class="alert alert-danger mt-4" role="alert">
    {{ error }}
  </div>
{% endif %}

{% if response_data %}
  <h2 class="mt-5">API Response:</h2>
  <pre class="bg-light p-3 rounded border">{{ response_data | tojson(indent=2) }}</pre>
{% endif %}

{% endblock %}

